import{r as d,j as e,ax as D,R as M}from"./vendor-WJBaPdLs.js";import{u as A,Q as $,a as q}from"./vendor-react-query-5PVrk00F.js";import{F as B,a as O,b as z,c as K,d as W,e as H,f as _}from"./vendor-icons-H1gVZ81h.js";import{m as y}from"./vendor-motion-C615eKb6.js";import{R as Y,L as Q,X as G,Y as J,T as X,a as V}from"./vendor-charts-COCyJF1m.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const m of n.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function s(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(r){if(r.ep)return;r.ep=!0;const n=s(r);fetch(r.href,n)}})();function Z({value:t,onChange:a,onSubmit:s,suggestions:o,onSelectSuggestion:r}){const[n,m]=d.useState(-1),[x,l]=d.useState(!1),c=d.useRef(null),u=d.useMemo(()=>{if(!t)return o;const i=t.toLowerCase();return o.filter(g=>g.toLowerCase().includes(i))},[o,t]);d.useEffect(()=>{const i=g=>{c.current&&!c.current.contains(g.target)&&(l(!1),m(-1))};return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[]);const p=x&&u.length>0,b=i=>{p&&(i.key==="ArrowDown"&&(i.preventDefault(),m(g=>(g+1)%u.length)),i.key==="ArrowUp"&&(i.preventDefault(),m(g=>(g-1+u.length)%u.length)),i.key==="Enter"&&n>=0&&(i.preventDefault(),r(u[n]),m(-1),l(!1)),i.key==="Escape"&&(m(-1),l(!1)))};return e.jsxs(y.form,{ref:c,onSubmit:s,className:"relative z-40 flex w-full items-center gap-3 rounded-2xl bg-white/70 p-3 shadow-lg backdrop-blur dark:bg-slate-900/70",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},children:[e.jsx(B,{className:"h-5 w-5 text-slate-400"}),e.jsx("input",{value:t,onChange:i=>{a(i.target.value),m(-1),l(!0)},onFocus:()=>l(!0),onKeyDown:b,placeholder:"Search city...",className:"w-full bg-transparent text-base font-medium outline-none placeholder:text-slate-400 dark:placeholder:text-slate-500"}),e.jsx("button",{type:"submit",className:"rounded-xl bg-slate-900 px-4 py-2 text-sm font-semibold text-white transition hover:bg-slate-800 dark:bg-slate-100 dark:text-slate-900 dark:hover:bg-white",children:"Search"}),p&&e.jsx("div",{className:"absolute left-0 top-full z-50 mt-3 w-full overflow-hidden rounded-2xl bg-white/90 p-2 shadow-2xl backdrop-blur dark:bg-slate-900/90",children:u.map((i,g)=>e.jsx("button",{type:"button",onClick:()=>{r(i),l(!1)},className:`flex w-full items-center justify-between rounded-xl px-3 py-2 text-left text-sm font-medium transition ${g===n?"bg-slate-900 text-white":"text-slate-700 hover:bg-white/70 dark:text-slate-200 dark:hover:bg-slate-800/60"}`,children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"h-4 w-4"}),i]})},i))})]})}function ee({isActive:t,onClick:a}){return e.jsxs("button",{type:"button",onClick:a,className:"flex items-center gap-2 rounded-full bg-white/70 px-3 py-2 text-xs font-semibold uppercase tracking-wide text-slate-700 shadow backdrop-blur transition hover:bg-white dark:bg-slate-900/70 dark:text-slate-200",children:[e.jsx("svg",{viewBox:"0 0 24 24",className:`h-4 w-4 ${t?"fill-amber-400 text-amber-400":"text-slate-400"}`,fill:t?"currentColor":"none",stroke:"currentColor",strokeWidth:"1.6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.5c.22-.66 1.16-.66 1.38 0l1.63 4.98a.75.75 0 0 0 .7.52h5.25c.7 0 .98.9.42 1.3l-4.25 3.1a.75.75 0 0 0-.27.84l1.63 4.98c.22.66-.53 1.2-1.1.79l-4.25-3.1a.75.75 0 0 0-.88 0l-4.25 3.1c-.56.41-1.31-.13-1.1-.79l1.63-4.98a.75.75 0 0 0-.27-.84l-4.25-3.1c-.56-.4-.28-1.3.42-1.3h5.25a.75.75 0 0 0 .7-.52z"})}),t?"Saved":"Save"]})}function te({data:t,isFavorite:a,onToggleFavorite:s,theme:o}){if(!t)return null;const{location:r,current:n}=t;return e.jsxs(y.div,{className:"w-full rounded-3xl bg-white/80 p-6 shadow-xl backdrop-blur dark:bg-slate-900/70",style:{boxShadow:`0 25px 60px -40px ${o.accent}`},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:[r.city,", ",r.country]}),e.jsxs("h1",{className:"text-5xl font-bold text-slate-900 dark:text-white",children:[Math.round(n.temp),"°C"]}),e.jsxs("p",{className:"text-base font-medium text-slate-600 dark:text-slate-300",children:[n.condition," · ",n.description]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-3",children:[e.jsx("img",{src:`https://openweathermap.org/img/wn/${n.icon}@2x.png`,alt:n.description,className:"h-20 w-20"}),e.jsx(ee,{isActive:a,onClick:s})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"rounded-2xl bg-slate-50 p-4 dark:bg-slate-800/60",children:[e.jsxs("p",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400",children:[e.jsx(z,{})," Humidity"]}),e.jsxs("p",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:[n.humidity,"%"]})]}),e.jsxs("div",{className:"rounded-2xl bg-slate-50 p-4 dark:bg-slate-800/60",children:[e.jsxs("p",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400",children:[e.jsx(K,{})," Wind"]}),e.jsxs("p",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:[n.windSpeed," m/s"]})]})]})]})}function ae(t){return new Date(t*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}function se({forecast:t,theme:a}){return t?e.jsxs("div",{className:"w-full rounded-3xl bg-white/80 p-6 shadow-xl backdrop-blur dark:bg-slate-900/70",style:{boxShadow:`0 25px 60px -40px ${a.accent}`},children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Forecast"}),e.jsx("div",{className:"mt-4 flex gap-4 overflow-x-auto pb-2 scrollbar-hide",children:t.items.slice(0,16).map((s,o)=>e.jsxs(y.div,{className:"min-w-[120px] rounded-2xl bg-slate-50 p-4 text-center dark:bg-slate-800/60",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4,delay:o*.03},children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:ae(s.dt)}),e.jsx("img",{src:`https://openweathermap.org/img/wn/${s.icon}.png`,alt:s.description,className:"mx-auto h-10 w-10"}),e.jsxs("p",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:[Math.round(s.temp),"°"]}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:s.condition})]},s.dt))})]}):null}function re(){return e.jsx("div",{className:"flex w-full items-center justify-center rounded-3xl bg-white/70 p-12 shadow-xl backdrop-blur dark:bg-slate-900/70",children:e.jsx(y.div,{className:"h-10 w-10 rounded-full border-4 border-slate-300 border-t-slate-900 dark:border-slate-700 dark:border-t-white",animate:{rotate:360},transition:{repeat:1/0,duration:1,ease:"linear"}})})}function oe({filled:t}){return e.jsx("svg",{viewBox:"0 0 24 24",className:`h-4 w-4 ${t?"fill-amber-400 text-amber-400":"text-slate-400"}`,fill:t?"currentColor":"none",stroke:"currentColor",strokeWidth:"1.6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.5c.22-.66 1.16-.66 1.38 0l1.63 4.98a.75.75 0 0 0 .7.52h5.25c.7 0 .98.9.42 1.3l-4.25 3.1a.75.75 0 0 0-.27.84l1.63 4.98c.22.66-.53 1.2-1.1.79l-4.25-3.1a.75.75 0 0 0-.88 0l-4.25 3.1c-.56.41-1.31-.13-1.1-.79l1.63-4.98a.75.75 0 0 0-.27-.84l-4.25-3.1c-.56-.4-.28-1.3.42-1.3h5.25a.75.75 0 0 0 .7-.52z"})})}function ne({favorites:t,onSelect:a,onToggle:s,isFavorite:o}){return t.length?e.jsx("div",{className:"flex items-center gap-3 overflow-x-auto pb-1 scrollbar-hide",children:t.map((r,n)=>e.jsxs(y.button,{type:"button",onClick:()=>a(r),className:"flex items-center gap-2 rounded-full bg-white/70 px-4 py-2 text-sm font-semibold text-slate-700 shadow backdrop-blur transition hover:bg-white dark:bg-slate-900/70 dark:text-slate-200 dark:hover:bg-slate-900",initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.3,delay:n*.05},children:[e.jsx("span",{children:r}),e.jsx("span",{role:"button",onClick:m=>{m.stopPropagation(),s(r)},children:e.jsx(oe,{filled:o(r)})})]},r))}):null}function ie(t){return new Date(t*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}function le({forecast:t,theme:a}){if(!t)return null;const s=t.items.slice(0,16).map(o=>({time:ie(o.dt),temp:Math.round(o.temp)}));return e.jsxs(y.div,{className:"w-full rounded-3xl bg-white/80 p-6 shadow-xl backdrop-blur dark:bg-slate-900/70",style:{boxShadow:`0 25px 60px -40px ${a.accent}`},initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Temperature Trend"}),e.jsx("div",{className:"mt-4 h-52 w-full",children:e.jsx(Y,{width:"100%",height:"100%",children:e.jsxs(Q,{data:s,children:[e.jsx(G,{dataKey:"time",tick:{fill:"#94a3b8",fontSize:12},axisLine:!1,tickLine:!1}),e.jsx(J,{tick:{fill:"#94a3b8",fontSize:12},axisLine:!1,tickLine:!1,width:28}),e.jsx(X,{contentStyle:{background:"rgba(15, 23, 42, 0.9)",border:"none",borderRadius:"12px",color:"#fff"},labelStyle:{color:"#e2e8f0"}}),e.jsx(V,{type:"monotone",dataKey:"temp",stroke:a.accent,strokeWidth:3,dot:{r:3,fill:a.accent},activeDot:{r:5},animationDuration:600})]})})})]})}function ce({timestamp:t}){if(!t)return null;const a=new Date(t).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return e.jsxs("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-100/80",children:["Updated at ",a]})}const de="/assets/v920-kul-45-C79HzAet.jpg",ue="/assets/v920-kul-10-Bxk7YCzE.jpg";function me({theme:t,onToggleTheme:a,onUseLocation:s,locationLoading:o,onToggleFavorites:r,favoritesCount:n}){const m=t==="dark"?ue:de;return e.jsx(y.header,{className:"sticky top-4 z-30 mx-auto w-full max-w-5xl rounded-3xl bg-white/70 px-4 py-3 shadow-xl backdrop-blur dark:bg-slate-900/70",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4},children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center overflow-hidden rounded-2xl bg-white/70 shadow dark:bg-slate-800",children:e.jsx("img",{src:m,alt:"SkyCast logo",className:"h-full w-full object-cover"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:"SkyCast"}),e.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Premium Weather"})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("button",{type:"button",onClick:s,className:"flex items-center gap-2 rounded-full bg-white/80 px-3 py-2 text-xs font-semibold text-slate-700 shadow transition hover:bg-white dark:bg-slate-800/70 dark:text-slate-100",children:[e.jsx(O,{className:"h-4 w-4"}),o?"Locating...":"Use my location"]}),e.jsxs("button",{type:"button",onClick:r,className:"flex items-center gap-2 rounded-full bg-white/80 px-3 py-2 text-xs font-semibold text-slate-700 shadow transition hover:bg-white dark:bg-slate-800/70 dark:text-slate-100",children:[e.jsx(W,{className:"h-4 w-4"}),"Favorites ",n>0?`(${n})`:""]}),e.jsxs("button",{type:"button",onClick:a,className:"flex items-center gap-2 rounded-full bg-white/80 px-3 py-2 text-xs font-semibold text-slate-700 shadow transition hover:bg-white dark:bg-slate-800/70 dark:text-slate-100",children:[t==="dark"?e.jsx(H,{className:"h-4 w-4"}):e.jsx(_,{className:"h-4 w-4"}),t==="dark"?"Dark":"Light"]})]})]})})}const N="";async function xe(t){const a=await fetch(`${N}/api/weather?city=${encodeURIComponent(t)}`),s=await a.json();if(!a.ok)throw new Error(s.error||"Failed to fetch weather");return s}async function fe(t,a){const s=await fetch(`${N}/api/weather?lat=${encodeURIComponent(t)}&lon=${encodeURIComponent(a)}`),o=await s.json();if(!s.ok)throw new Error(o.error||"Failed to fetch weather");return o}async function he(t){const a=await fetch(`${N}/api/weather/forecast?city=${encodeURIComponent(t)}`),s=await a.json();if(!a.ok)throw new Error(s.error||"Failed to fetch forecast");return s}const P="skycast-theme";function ge(){const[t,a]=d.useState("light");return d.useEffect(()=>{const s=localStorage.getItem(P);if(s==="dark"||s==="light")a(s);else{const o=window.matchMedia("(prefers-color-scheme: dark)").matches;a(o?"dark":"light")}},[]),d.useEffect(()=>{const s=document.documentElement;t==="dark"?s.classList.add("dark"):s.classList.remove("dark"),localStorage.setItem(P,t)},[t]),{theme:t,setTheme:a}}const U="skycast-favorites";function pe(){if(typeof window>"u")return[];const t=localStorage.getItem(U);if(!t)return[];try{const a=JSON.parse(t);return Array.isArray(a)?a:[]}catch{return[]}}function be(){const[t,a]=d.useState(()=>pe()),s=d.useRef(!1);d.useEffect(()=>{if(!s.current){s.current=!0;return}localStorage.setItem(U,JSON.stringify(t))},[t]);const o=d.useMemo(()=>{const x=new Set(t.map(l=>l.toLowerCase()));return l=>x.has(l.toLowerCase())},[t]),r=x=>{const l=x.trim();l&&a(c=>c.some(p=>p.toLowerCase()===l.toLowerCase())?c:[...c,l])},n=x=>{a(l=>l.filter(c=>c.toLowerCase()!==x.toLowerCase()))};return{favorites:t,isFavorite:o,addFavorite:r,removeFavorite:n,toggleFavorite:x=>{o(x)?n(x):r(x)}}}const R={Clear:{bgFrom:"#f6c453",bgTo:"#f08d49",accent:"#e67e22",accentSoft:"rgba(230,126,34,0.18)"},Clouds:{bgFrom:"#bfc6d1",bgTo:"#8e9eab",accent:"#6b7280",accentSoft:"rgba(107,114,128,0.18)"},Rain:{bgFrom:"#6b8ba4",bgTo:"#4b6b82",accent:"#3b82f6",accentSoft:"rgba(59,130,246,0.18)"},Drizzle:{bgFrom:"#6b8ba4",bgTo:"#4b6b82",accent:"#3b82f6",accentSoft:"rgba(59,130,246,0.18)"},Thunderstorm:{bgFrom:"#3f3d56",bgTo:"#1f1b2e",accent:"#8b5cf6",accentSoft:"rgba(139,92,246,0.18)"},Snow:{bgFrom:"#e6f3ff",bgTo:"#b6d6f5",accent:"#38bdf8",accentSoft:"rgba(56,189,248,0.2)"},Mist:{bgFrom:"#a8b0b7",bgTo:"#7f8c8d",accent:"#64748b",accentSoft:"rgba(100,116,139,0.2)"},Fog:{bgFrom:"#a8b0b7",bgTo:"#7f8c8d",accent:"#64748b",accentSoft:"rgba(100,116,139,0.2)"},Haze:{bgFrom:"#a8b0b7",bgTo:"#7f8c8d",accent:"#64748b",accentSoft:"rgba(100,116,139,0.2)"}};function we(t){return R[t]||R.Clear}const ye={enableHighAccuracy:!1,timeout:8e3,maximumAge:6e5},ke={enableHighAccuracy:!0,timeout:2e4,maximumAge:0},je="https://ipapi.co/json/";function ve(){const[t,a]=d.useState("idle"),[s,o]=d.useState(""),[r,n]=d.useState(null),[m,x]=d.useState("unknown"),[l,c]=d.useState(""),u=d.useRef(!1),p=d.useRef(!1),b=f=>{n({lat:f.coords.latitude,lon:f.coords.longitude}),a("success"),o(""),c("gps"),u.current=!1,p.current=!1},i=async()=>{if(!p.current){p.current=!0;try{const f=await fetch(je,{headers:{Accept:"application/json"}}),h=await f.json();if(!f.ok||!h||h.error)throw new Error((h==null?void 0:h.reason)||"IP lookup failed");if(typeof h.latitude!="number"||typeof h.longitude!="number")throw new Error("IP lookup missing coordinates");n({lat:h.latitude,lon:h.longitude}),a("success"),o(""),c("ip")}catch{a("error"),o("Unable to determine location.")}}},g=f=>{if(f.code===f.TIMEOUT&&!u.current){u.current=!0,navigator.geolocation.getCurrentPosition(b,g,ke);return}if(f.code===f.PERMISSION_DENIED){o("Location permission denied. Using IP-based location."),x("denied"),a("loading"),i();return}if(f.code===f.TIMEOUT){o("Location request timed out. Using IP-based location."),a("loading"),i();return}o("Unable to retrieve location. Using IP-based location."),a("loading"),i()},j=d.useCallback(()=>{if(!window.isSecureContext){a("error"),o("Location requires a secure context (HTTPS) or localhost.");return}if(!navigator.geolocation){a("error"),o("Geolocation is not supported by this browser."),i();return}a("loading"),o(""),c(""),u.current=!1,p.current=!1,navigator.geolocation.getCurrentPosition(b,g,ye)},[]);return d.useEffect(()=>{(async()=>{var h;if((h=navigator.permissions)!=null&&h.query)try{const k=await navigator.permissions.query({name:"geolocation"});x(k.state),k.state==="granted"&&j(),k.onchange=()=>x(k.state)}catch{}})()},[j]),{status:t,error:s,coords:r,permission:m,source:l,requestLocation:j,setCoords:n}}const Ne=["New York","London","Paris","Tokyo","Dubai","Toronto","Sydney","Seoul","Singapore","Istanbul"];function Se(){var F,L,T,E;const{theme:t,setTheme:a}=ge(),[s,o]=d.useState(""),[r,n]=d.useState(""),[m,x]=d.useState(!0),l=be(),c=ve(),u=A({queryKey:["weather",{city:r,coords:c.coords}],queryFn:()=>c.coords?fe(c.coords.lat,c.coords.lon):xe(r),enabled:!!c.coords||!!r}),p=((L=(F=u.data)==null?void 0:F.location)==null?void 0:L.city)||r,b=A({queryKey:["forecast",p],queryFn:()=>he(p),enabled:!!p}),i=d.useMemo(()=>{var v,I;const w=((I=(v=u.data)==null?void 0:v.current)==null?void 0:I.condition)||"Clear";return we(w)},[u.data]),g=Math.max(u.dataUpdatedAt||0,b.dataUpdatedAt||0),j=d.useMemo(()=>{const w=[...l.favorites,...Ne];return Array.from(new Set(w))},[l.favorites]),f=w=>{w.preventDefault();const v=s.trim();v&&(n(v),c.setCoords(null),o(""))},h=w=>{n(w),c.setCoords(null),o("")},k=()=>{n(""),c.requestLocation()},S=u.isLoading||b.isLoading,C=u.isError||b.isError;return e.jsx(y.div,{className:"min-h-screen",style:{backgroundImage:"linear-gradient(135deg, var(--bg-from), var(--bg-to))"},animate:{"--bg-from":i.bgFrom,"--bg-to":i.bgTo},transition:{duration:.8},children:e.jsx("div",{className:"min-h-screen bg-white/10 px-4 py-10 transition-colors duration-500 dark:bg-slate-950/70",children:e.jsxs("div",{className:"mx-auto flex w-full max-w-5xl flex-col gap-6",children:[e.jsx(me,{theme:t,onToggleTheme:()=>a(t==="dark"?"light":"dark"),onUseLocation:k,locationLoading:c.status==="loading",onToggleFavorites:()=>x(w=>!w),favoritesCount:l.favorites.length}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"max-w-2xl",children:[e.jsx("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/20 px-3 py-1 text-xs font-semibold uppercase tracking-[0.2em] text-white/90 shadow-sm backdrop-blur",children:"SkyCast"}),e.jsxs("h1",{className:"mt-3 text-3xl font-bold leading-tight text-white sm:text-4xl",children:["Know the weather before you go.",e.jsx("span",{className:"block text-white/80",children:"Anytime. Anywhere."})]}),e.jsx("p",{className:"mt-2 text-sm font-medium text-white/75",children:"Smart forecasts, elegant design, and instant clarity in one place."}),e.jsx("div",{className:"mt-2",children:e.jsx(ce,{timestamp:g})})]})}),e.jsx(Z,{value:s,onChange:o,onSubmit:f,suggestions:j,onSelectSuggestion:h}),m&&e.jsx(ne,{favorites:l.favorites,onSelect:h,onToggle:l.toggleFavorite,isFavorite:l.isFavorite}),c.status==="error"&&!r&&e.jsx("div",{className:"rounded-2xl bg-white/70 p-4 text-sm text-slate-600 shadow dark:bg-slate-900/70 dark:text-slate-300",children:c.error}),c.permission==="denied"&&!r&&e.jsx("div",{className:"rounded-2xl bg-white/70 p-4 text-sm text-slate-600 shadow dark:bg-slate-900/70 dark:text-slate-300",children:"Location access is blocked in your browser settings. Allow it and try again."}),S&&e.jsx(re,{}),C&&e.jsx("div",{className:"rounded-2xl bg-rose-50 p-4 text-sm font-semibold text-rose-700 shadow dark:bg-rose-900/40 dark:text-rose-200",children:((T=u.error)==null?void 0:T.message)||((E=b.error)==null?void 0:E.message)}),!S&&!C&&u.data&&e.jsxs(e.Fragment,{children:[e.jsx(te,{data:u.data,theme:i,isFavorite:l.isFavorite(u.data.location.city),onToggleFavorite:()=>l.toggleFavorite(u.data.location.city)}),b.data&&e.jsxs(e.Fragment,{children:[e.jsx(le,{forecast:b.data,theme:i}),e.jsx(se,{forecast:b.data,theme:i})]})]})]})})})}const Ce=new $({defaultOptions:{queries:{staleTime:1e3*60*5,refetchOnWindowFocus:!1}}});D.createRoot(document.getElementById("root")).render(e.jsx(M.StrictMode,{children:e.jsx(q,{client:Ce,children:e.jsx(Se,{})})}));
